<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <script src="./js/jquery.js"></script>
    <script type="text/javascript">
      /*
      Promise基本使用
    */
      // console.log(typeof Promise)
      // console.dir(Promise);

      // var p = new Promise(function(resolve, reject){
      //   // 这里用于实现异步任务
      //   setTimeout(function(){
      //     var flag = false;
      //     if(flag) {
      //       // 正常情况
      //       resolve('hello');
      //     }else{
      //       // 异常情况
      //       reject('出错了');
      //     }
      //   }, 100);
      // });
      // p.then(function(data){
      //   console.log(data)
      // },function(info){
      //   console.log(info)
      // });

      const p = new Promise((resolve, reject) => {
        $.ajax({
          url: "http://localhost:3000/data",
          success(data) {
            resolve(data);
          },
          error(err) {
            reject(err);
          },
        });
      });
      p.then((data) => {
        console.log(data);
      }).catch((err) => {
        console.log(err);
      });
    </script>
  </body>
</html>
